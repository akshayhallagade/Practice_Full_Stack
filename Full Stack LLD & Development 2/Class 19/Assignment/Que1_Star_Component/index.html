<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .container {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .star-container {
        font-size: 40px;
      }

      .star {
        padding: 5px;
        color: gray;
        cursor: pointer;
      }

      .star-filled {
        color: #ffdf00;
      }
    </style>
  </head>
  <body>
    <body>
      <div class="container">
        <h1>Star Rating Component</h1>
        <div id="star-container" class="star-container">
          <span class="star" data-index="1">&#9733;</span>
          <span class="star" data-index="2">&#9733;</span>
          <span class="star" data-index="3">&#9733;</span>
          <span class="star" data-index="4">&#9733;</span>
          <span class="star" data-index="5">&#9733;</span>
        </div>
        <h2>
          Rating Count:
          <span id="count">0</span>
        </h2>
      </div>
      <script>
        const starRef = document.querySelectorAll(".star");
        const countRef = document.querySelector("#count");

        let value = 0;
        starRef.forEach((ele) => {
          ele.addEventListener("click", function (event) {
            value = Number(event.target.dataset.index);
            countRef.innerText = value;
          });
          ele.addEventListener("mouseover", function (event) {
            fillcolor(Number(event.target.dataset.index));
          });
          ele.addEventListener("mouseleave", function (event) {
            fillcolor(value);
          });
        });

        function fillcolor(value) {
          starRef.forEach((ele) => {
            if (ele.dataset.index <= value) ele.classList.add("star-filled");
            else ele.classList.remove("star-filled");
          });
        }
      </script>
    </body>
  </body>
</html>
